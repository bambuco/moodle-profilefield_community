{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template profile_field_community/signup

    Control to signup form.

    Example context (json):
    {
        "inputname": "profile_field_community_signup",
        "cannew": true,
        "canedit": true,
        "hastabs": true,
        "communities": [
            {"id": 1, "name": "Community 1"},
            {"id": 2, "name": "Community 2"},
            {"id": 3, "name": "Community 3"},
            {"id": 4, "name": "Community 4"}
        ]
    }
}}
<div class="profilefield_community-signup">
    <div class="checkcontrol">
        <div class="form-group">
            <input class="form-check-input" id="mng-{{inputname}}" name="mng-{{inputname}}" type="checkbox" />
            <label for="mng-{{inputname}}">
                {{#str}} registercommunity, profilefield_community {{/str}}
            </label>
        </div>
    </div>

    <div id="box-{{inputname}}" style="display: none;">

        <div class="tabbable" id="tabs-{{inputname}}">
            {{#hastabs}}
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link active show" href="#new-{{inputname}}" data-toggle="tab">
                        {{#str}} newcommunity, profilefield_community {{/str}}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#link-{{inputname}}" data-toggle="tab">
                        {{#str}} linkcommunity, profilefield_community {{/str}}
                    </a>
                </li>
            </ul>
            {{/hastabs}}
            <div class="tab-content">
                {{#cannew}}
                <div class="tab-pane active" id="new-{{inputname}}">
                    <div class="form-group">
                        <label for="new-{{inputname}}-name">
                            {{#str}} communityname, profilefield_community {{/str}}
                            <div class="form-label-addon d-flex align-items-center align-self-start">
                                <div class="text-danger" title="Obligatorio">
                                    <i class="icon fa fa-exclamation-circle text-danger fa-fw " title="Obligatorio" role="img" aria-label="Obligatorio"></i>
                                </div>
                            </div>
                        </label>
                        <input type="text" class="form-control" id="new-{{inputname}}-name" name="new-{{inputname}}-name" />
                    </div>
                    <div class="form-group">
                        <label for="new-{{inputname}}-identication">
                            {{#str}} identification, profilefield_community {{/str}}
                        </label>
                        <input type="text" class="form-control" id="new-{{inputname}}-identification" name="new-{{inputname}}-identification" />
                    </div>
                </div>
                {{/cannew}}

                {{#canlink}}
                <div class="tab-pane" id="link-{{inputname}}">
                    <div class="form-group">
                        <label for="link-{{inputname}}-link">
                            {{#str}} community, profilefield_community {{/str}}
                        </label>
                        <select class="custom-select" id="link-{{inputname}}-id" name="link-{{inputname}}-id">
                            {{#communities}}
                                <option value="{{id}}">{{name}}</option>
                            {{/communities}}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="link-{{inputname}}-code">
                            {{#str}} registercode, profilefield_community {{/str}}
                        </label>
                        <input type="password" class="form-control" id="link-{{inputname}}-code" name="link-{{inputname}}-code" />
                    </div>
                </div>
                {{/canlink}}
            </div>
        </div>

    </div>
</div>